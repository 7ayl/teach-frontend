import {
  Do,
  Ho
} from "./chunk-T44MWNXV.js";
import "./chunk-N2RCQA5U.js";
import "./chunk-P47LQRWA.js";
import "./chunk-UMG6APIF.js";
import "./chunk-ERUET6IM.js";
import "./chunk-RYNOPVOG.js";
import "./chunk-RVWQJKHI.js";
import "./chunk-WKP7VHB3.js";
import "./chunk-3QFBHLOL.js";
import "./chunk-NMMIE6YW.js";
import "./chunk-3SM4BTZF.js";
import "./chunk-27LK3WJJ.js";
import {
  createElementBlock,
  defineComponent,
  openBlock
} from "./chunk-PQAPQAWG.js";
import "./chunk-2GTGKKMZ.js";

// ../../node_modules/.pnpm/ink-mde@0.18.1_vue@3.2.47/node_modules/ink-mde/vue/dist/client.js
var h = defineComponent({
  name: "InkMde",
  emits: ["update:modelValue"],
  props: {
    modelValue: {
      type: String
    },
    options: {
      type: Object
    }
  },
  data() {
    return {
      html: "",
      instance: void 0
    };
  },
  watch: {
    modelValue(t) {
      var n, e;
      ((n = this.instance) == null ? void 0 : n.getDoc()) !== t && ((e = this.instance) == null || e.update(t));
    },
    options: {
      deep: true,
      handler(t, n) {
        var e;
        (e = this.instance) == null || e.reconfigure(t);
      }
    }
  },
  methods: {
    tryInit() {
      var t;
      this.$refs.ink && !this.instance && (this.instance = Do(this.$refs.ink, {
        ...this.options,
        doc: this.modelValue,
        hooks: {
          ...(t = this.options) == null ? void 0 : t.hooks,
          afterUpdate: (n) => {
            var e, i;
            this.$emit("update:modelValue", n), (i = (e = this.options) == null ? void 0 : e.hooks) != null && i.afterUpdate && this.options.hooks.afterUpdate(n);
          }
        }
      }), this.$refs.ink.addEventListener("input", (n) => {
        n.stopPropagation();
      }), this.instance.focus());
    }
  },
  created() {
    ({ BASE_URL: "/", MODE: "production", DEV: false, PROD: true }).VITE_SSR && (this.html = Ho(this.options));
  },
  mounted() {
    this.tryInit();
  },
  updated() {
    this.tryInit();
  }
});
var c = (t, n) => {
  const e = t.__vccOpts || t;
  for (const [i, o] of n)
    e[i] = o;
  return e;
};
var f = ["innerHTML"];
function l(t, n, e, i, o, u) {
  return openBlock(), createElementBlock("div", {
    ref: "ink",
    innerHTML: t.html
  }, null, 8, f);
}
var _ = c(h, [["render", l]]);
export {
  _ as default
};
//# sourceMappingURL=ink-mde_vue.js.map
